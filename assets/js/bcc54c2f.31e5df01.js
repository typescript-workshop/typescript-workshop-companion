"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[509],{1998:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"atelier/selectionner-des-champs","title":"Exercice 4","description":"Nous vous proposons de typer la fonction selectFields qui, \xe0 partir du typage de notre database, sera capable d\'inf\xe9rer les noms des champs qu\'il est possible de s\xe9lectionner au sein d\'une table.","source":"@site/docs/atelier/4-selectionner-des-champs.md","sourceDirName":"atelier","slug":"/atelier/selectionner-des-champs","permalink":"/typescript-workshop-companion/docs/atelier/selectionner-des-champs","draft":false,"unlisted":false,"editUrl":"https://github.com/typescript-workshop/typescript-workshop-companion/tree/main/packages/create-docusaurus/templates/shared/docs/atelier/4-selectionner-des-champs.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Exercice 3","permalink":"/typescript-workshop-companion/docs/atelier/selectionner-une-table"},"next":{"title":"Exercice 5","permalink":"/typescript-workshop-companion/docs/atelier/selectionner-tous-les-champs"}}');var o=n(4848),i=n(8453);const r={sidebar_position:4},c="Exercice 4",l={},a=[{value:"Solution",id:"solution",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"exercice-4",children:"Exercice 4"})}),"\n",(0,o.jsxs)(t.p,{children:["Nous vous proposons de typer la fonction ",(0,o.jsx)(t.code,{children:"selectFields"})," qui, \xe0 partir du typage de notre database, sera capable d'inf\xe9rer les noms des champs qu'il est possible de s\xe9lectionner au sein d'une table."]}),"\n",(0,o.jsx)(t.p,{children:"Rendez-vous dans le fichier 4-selectionner-des-champs.spec-d.ts et db.ts pour l'impl\xe9mentation."}),"\n",(0,o.jsx)(t.p,{children:"\xc0 vous de jouer !"}),"\n",(0,o.jsx)(t.admonition,{title:"Ressources",type:"tip",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/typescript-workshop-companion/docs/typescript/generic",children:"Types g\xe9n\xe9riques"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/typescript-workshop-companion/docs/typescript/conditional-types",children:"Types conditionnels"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"/typescript-workshop-companion/docs/typescript/keyof-lookup",children:"KeyOf & lookup"})}),"\n"]})}),"\n",(0,o.jsx)(t.h2,{id:"solution",children:"Solution"}),"\n",(0,o.jsxs)(n,{children:[(0,o.jsx)("summary",{children:"Avant de d\xe9plier pour afficher la solution, n'h\xe9sitez pas \xe0 nous solliciter ! "}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:'type SelectableContext<DB> = EmptyContext<DB> & {\n  _operation: "select";\n  _table: keyof DB;\n};\ntype AnySelectableContext = SelectableContext<any>;\nexport const selectFields = <Ctx extends AnySelectableContext>(\n  ctx: Ctx,\n  fieldNames: (keyof Ctx["_db"][Ctx["_table"]])[]\n) => ({\n  ...ctx,\n  _fields: fieldNames,\n});\n'})})]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var s=n(6540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);