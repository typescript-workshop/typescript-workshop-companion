"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[433],{4929:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"atelier/ameliorer-dx","title":"Exercice 9","description":"Pr\xeat.e pour le dernier exercice ? C\'est partit !","source":"@site/docs/atelier/9-ameliorer-dx.md","sourceDirName":"atelier","slug":"/atelier/ameliorer-dx","permalink":"/typescript-workshop-companion/docs/atelier/ameliorer-dx","draft":false,"unlisted":false,"editUrl":"https://github.com/typescript-workshop/typescript-workshop-companion/tree/main/packages/create-docusaurus/templates/shared/docs/atelier/9-ameliorer-dx.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Exercice 8","permalink":"/typescript-workshop-companion/docs/atelier/gestion-des-alias"},"next":{"title":"Les concepts TypeScript","permalink":"/typescript-workshop-companion/docs/category/les-concepts-typescript"}}');var r=n(4848),s=n(8453);const i={sidebar_position:9},a="Exercice 9",c={},l=[{value:"Solution",id:"solution",level:2}];function d(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"exercice-9",children:"Exercice 9"})}),"\n",(0,r.jsx)(t.p,{children:"Pr\xeat.e pour le dernier exercice ? C'est partit !"}),"\n",(0,r.jsx)(t.p,{children:"L'autocompl\xe9tion, une gestion claires des erreurs, etc. facilitent grandement notre quotidien de d\xe9veloppeur. C'est la raison pour laquelle nous vous proposons de refactorer le code que nous avons \xe9crit dans le but d'am\xe9liorer notre d\xe9veloppeur exp\xe9rience."}),"\n",(0,r.jsx)(t.p,{children:"L'ensemble des tests seront l\xe0 pour nous assurer que nous n'introduisons pas de regression."}),"\n",(0,r.jsx)(t.p,{children:"Rendez-vous dans le fichier 9-ameliorer-dx.spec-d.ts et db.ts pour l'impl\xe9mentation."}),"\n",(0,r.jsx)(t.p,{children:"\xc0 vous de jouer !"}),"\n",(0,r.jsx)(t.admonition,{title:"Ressources",type:"tip"}),"\n",(0,r.jsx)(t.h2,{id:"solution",children:"Solution"}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Avant de d\xe9plier pour afficher la solution, n'h\xe9sitez pas \xe0 nous solliciter ! "}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:'type DeletableContext<DB> = EmptyContext<DB> & {\n  _operation: "delete";\n  _table: keyof DB;\n};\n\nexport const deleteFrom = <\n  Ctx extends AnyEmptyContext,\n  TB extends keyof Ctx["_db"]\n>(\n  ctx: Ctx,\n  tableName: TB\n) => ({\n  ...ctx,\n  _operation: "delete" as const,\n  _table: tableName,\n});\n'})}),(0,r.jsxs)(t.p,{children:["Il faudra aussi modifier le typage de la fonction ",(0,r.jsx)(t.code,{children:"where"})," pour aussi accepter le ",(0,r.jsx)(t.code,{children:"Deletablecontext"})]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:'type AnyQueryableContext = SelectableContext<any> | DeletableContext<any>;\n\nexport const where = <\n  Ctx extends AnyQueryableContext,\n  Field extends keyof Ctx["_db"][Ctx["_table"]]\n>(...) => {...}\n'})})]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var o=n(6540);const r={},s=o.createContext(r);function i(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);